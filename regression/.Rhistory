cwd()
pwd()
getwd()
this.dir <- dirname(parent.frame(2)$ofile)
setwd(this.dir)
this.dir <- dirname(parent.frame(3)$ofile)
setwd(this.dir)
this_dir <- function(directory)
setwd( file.path(getwd(), directory) )
getwd()
source_pathname  = get("ofile",envir = parent.frame())
dirname(sys.frame(1)$ofile)
dirname(sys.frame(1)$ofile)
this.file <- sys.frame(tail(grep('source',sys.calls()),n=1))$ofile
setwd("C:\Users\Administrator\Developing\multivariate-r\r-basics")
setwd("C:/Users/Administrator/Developing/multivariate-r/r-basics")
x1<-seq(2,6,by=1)
x2<-c(8,10,12,16,21)
z.dat<-data.frame(x=x1,y=x2)
print(z.dat)
cbind(x1,x2)
A<-matrix(1,nr=2,nc=2)
print(A)
# setting current working dir to script dir
setwd("C:/Users/Administrator/Developing/multivariate-r/r-basics")
x1<-seq(2,6,by=1)
x2<-c(8,10,12,16,21)
z.dat<-data.frame(x=x1,y=x2)
print(z.dat)
cbind(x1,x2)
#matrices
A<-matrix(1,nr=2,nc=2)
print(A)
B<-diag(3)
print(B)
x<-c(2,3,4)
C<-diag(x)
print(C)
setwd(sub("\\\\","/","C:\Users\Administrator\Developing\multivariate-r\regression"))
setwd(sub("\\\\","\","C:\Users\Administrator\Developing\multivariate-r\regression"))
setwd(sub("\\\\","\\","C:\Users\Administrator\Developing\multivariate-r\regression"))
setwd(sub("\\","/","C:\Users\Administrator\Developing\multivariate-r\regression"))
setwd(sub("\\","/",'C:\Users\Administrator\Developing\multivariate-r\regression'))
setwd(gsub("\\","/",'C:\Users\Administrator\Developing\multivariate-r\regression'))
setwd('C:\Users\Administrator\Developing\multivariate-r\regression')
setwd('C:/Users/Administrator/Developing/multivariate-r/regression')
data2.1<-read.csv("eg2.1.csv",header = T)
head(data2.1)
data2.1<-read.csv("eg2.1.csv",header = T)
data2.1<-read.csv2("eg2.1.csv",header = T)
head(data2.1)
data2.1<-read.csv("eg2.1.csv",header = T)
head(data2.1)
lm.salary<-lm(y)
data2.1<-read.csv("eg2.1.csv",header = T)
head(data2.1)
data2.1<-read.csv("eg2.1.csv",header = T)
head(data2.1)
data2.1<-read.csv("eg2.1.csv",header = T)
head(data2.1)
lm.salary<-lm(y)
data2.1<-read.csv("eg2.1.csv",header = T,sep = "\t")
head(data2.1)
lm.salary<-lm(y)
data2.1<-read.csv("eg2.1.csv",header = T)
head(data2.1)
lm.salary<-lm(y~x1+x2+x3+x4,data = data2.1)
summary(lm.salary)
head(data2.1)
lm.step<-step(lm.salary,direction = "both")
summary(lm.step)
summary(lm.step)
y.res<-residuals(lm.salary)
y.rst<-rstandard(lm.step)
print(y.rst)
y.fit<-predict(lm.step)
plot(y.res~y.fit)
plot(y.rst~y.fit)
plot(y.res~y.fit)
plot(y.rst~y.fit)
#residual plot indicates the common variance assumption does not hold
lm.step_new<-update(lm.step,log(.)~.)
y.rst<-rstandard(lm.step_new)
print(y.rst)
y.fit<-predict(lm.step_new)
plot(y.rst~y.fit)
# remove the outliers
lm.salary<-lm(log(y)~x1+x2+x3+x4,data=data2.1[-c(4,35),])
lm.step<-step(lm.salary,direction="both")
y.rst<-rstandard(lm.step)
y.fit<-predict(lm.step)
plot(y.rst,y.fit)
plot(y,fit,y.rst)
plot(y.fit,y.rst)
par(mfrow=c(2,2))
plot(lm.step_new)
influence.measures(lm.step_new)
predict(lm.step,newdata = preds,interval="prediction",level=0.95)
preds<-data.frame(x1=20000,x4=20)
predict(lm.step,newdata = preds,interval="prediction",level=0.95)
